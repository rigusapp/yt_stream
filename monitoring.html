<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<title>Monitoring Sistem</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;600;800&display=swap" rel="stylesheet">
<style>
body.sidebar-loaded .content { margin-left:260px; }
.content { padding:32px; font-family:'Inter'; }
.card { padding:16px; background:white; border:1px solid #ddd; border-radius:8px; margin-bottom:16px; }
</style>
</head>

<body>

<script>
fetch("sidebar.html")
  .then(r=>r.text())
  .then(html=>{
    document.body.insertAdjacentHTML("afterbegin",html);
    document.body.classList.add("sidebar-loaded");
  });
</script>

<div class="content">
  <h1>Monitoring</h1>

  <div class="card">
    <h3>Status Worker</h3>
    <div id="workerStatus">Checking...</div>
  </div>

  <div class="card">
    <h3>Status GitHub Actions</h3>
    <div id="actionsStatus">Checking...</div>
  </div>

  <div class="card">
    <h3>Status YouTube</h3>
    <div id="ytStatus">Tanpa API Key, status YouTube dicek manual.</div>
  </div>
</div>

<script>
// Check Cloudflare Worker
fetch("https://ytstream-proxy.rigus-apps.workers.dev/", { method:"OPTIONS" })
  .then(r => {
    document.getElementById("workerStatus").innerText =
      "Worker OK (status " + r.status + ")";
  })
  .catch(() => {
    document.getElementById("workerStatus").innerText = "Worker ERROR!";
  });

// Placeholder GitHub Actions
document.getElementById("actionsStatus").innerText =
  "Integrasi GitHub API siap bila Anda mau.";
</script>

</body>
</html>
