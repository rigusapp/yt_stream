<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<title>Pengaturan</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;600;800&display=swap" rel="stylesheet">
<style>
body.sidebar-loaded .content { margin-left:260px; }
.content { padding:32px; font-family:'Inter'; }
.input{padding:8px;width:300px;border:1px solid #ddd;border-radius:6px;margin-top:6px;}
</style>
</head>

<body>

<script>
fetch("sidebar.html")
  .then(r=>r.text())
  .then(html=>{
    document.body.insertAdjacentHTML("afterbegin",html);
    document.body.classList.add("sidebar-loaded");
  });
</script>

<div class="content">
  <h1>Pengaturan Sistem</h1>

  <label>Worker URL</label><br>
  <input id="workerUrl" class="input" placeholder="https://...workers.dev/"><br><br>

  <label>Default Stream Key</label><br>
  <input id="defaultKey" class="input"><br><br>

  <label>Default Video URL</label><br>
  <input id="defaultVideo" class="input"><br><br>

  <label style="display:flex;align-items:center;gap:6px;margin-top:12px;">
    <input type="checkbox" id="darkMode">
    Mode Gelap
  </label>

  <button onclick="save()" style="margin-top:20px;padding:10px 16px;background:#2563eb;color:white;border:0;border-radius:8px;">
    Simpan
  </button>
</div>

<script>
function save(){
  localStorage.setItem("workerUrl", document.getElementById("workerUrl").value);
  localStorage.setItem("defaultKey", document.getElementById("defaultKey").value);
  localStorage.setItem("defaultVideo", document.getElementById("defaultVideo").value);
  localStorage.setItem("darkMode", document.getElementById("darkMode").checked);
  alert("Pengaturan disimpan.");
}

// load saved values
window.onload = ()=>{
  document.getElementById("workerUrl").value = localStorage.getItem("workerUrl") || "";
  document.getElementById("defaultKey").value = localStorage.getItem("defaultKey") || "";
  document.getElementById("defaultVideo").value = localStorage.getItem("defaultVideo") || "";
  document.getElementById("darkMode").checked = localStorage.getItem("darkMode") === "true";
}
</script>

</body>
</html>
